{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { stuffService } from '@/_services';\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      thing: {\n        title: '',\n        description: '',\n        userId: '',\n        imageUrl: '',\n        price: ''\n      },\n      FILE: null\n    };\n  },\n  methods: {\n    onFileUpload(event) {\n      this.FILE = event.target.files[0];\n    },\n    postData() {\n      //var form = document.getElementById('form');\n\n      //    const  file=document.getElementById('file')\n\n      var formData = new FormData();\n      const Thing = JSON.stringify(this.thing);\n      var blob = new Blob([this.FILE, this.FILE.name], {\n        type: \"image/PNG\"\n      });\n      formData.append('thing', Thing);\n      formData.append('image', blob);\n\n      //formData.append('image',this.FILE,this.FILE.filename)\n\n      // var values=JSON.stringify(Object.from((formData)))\n\n      stuffService.addThing(formData, {}).then(res => {\n        console.log(res);\n        this.$router.push('/info');\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAsDE,SAAQA,YAAY,QAAO,aAAY;AAGvC,eAAe;EAEfC,IAAI,EAAE,YAAY;EAGlBC,IAAI,GAAE;IAED,OAAO;MAEdC,KAAK,EAAC;QAEAC,KAAK,EAAC,EAAE;QAERC,WAAW,EAAC,EAAE;QAEdC,MAAM,EAAC,EAAE;QAETC,QAAQ,EAAC,EAAE;QAEXC,KAAK,EAAC;MAEL,CAAC;MAERC,IAAI,EAAC;IACO;EAIL,CAAC;EAENC,OAAO,EAAC;IAEVC,YAAW,CAAGC,KAAK,EAAE;MAIX,IAAI,CAACH,IAAG,GAAIG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC;IAIlC,CAAC;IAKTC,QAAQ,GAAG;MAIX;;MAEK;;MAEO,IAAIC,QAAO,GAAI,IAAIC,QAAQ,EAAE;MAE7B,MAAMC,KAAK,GAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACjB,KAAK;MAErC,IAAIkB,IAAI,GAAE,IAAIC,IAAI,CAAC,CAAC,IAAI,CAACb,IAAI,EAAC,IAAI,CAACA,IAAI,CAACR,IAAI,CAAC,EAAE;QAACsB,IAAG,EAAI;MAAW,CAAC;MAEnEP,QAAQ,CAACQ,MAAM,CAAC,OAAO,EAACN,KAAK;MAC7BF,QAAQ,CAACQ,MAAM,CAAC,OAAO,EAACH,IAAI;;MAE5B;;MAEJ;;MAEIrB,YAAY,CAACyB,QAAQ,CAACT,QAAQ,EAAC,CACjC,CAAC,EACEU,IAAI,CAACC,GAAE,IAAK;QACTC,OAAO,CAACC,GAAG,CAACF,GAAG;QAEf,IAAI,CAACG,OAAO,CAACC,IAAI,CAAE,OAAM,CAAE;MAC/B,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAG;QACbL,OAAO,CAACC,GAAG,CAACI,GAAG;MACjB,CAAC;IACT;EACJ;AACA","names":["stuffService","name","data","thing","title","description","userId","imageUrl","price","FILE","methods","onFileUpload","event","target","files","postData","formData","FormData","Thing","JSON","stringify","blob","Blob","type","append","addThing","then","res","console","log","$router","push","catch","err"],"sourceRoot":"","sources":["/home/kali/my-first-vue-cli-app/src/components/HelloWorld.vue"],"sourcesContent":["\n\n<template class=\"bg-secondary\">\n\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      \n<form id='form' @submit.prevent='postData'>\n\n  <div class='formgroup'>\n<input class=\"form-control form-control-lg\" type='hidden' v-model='thing.id'>\n</div>\n  \n<div class='formgroup'>\n<label for='title'>title:</label><input class=\"form-control form-control-lg\"  type='texte'  id='title' v-model='thing.title'>\n</div>\n\n<div class='formGroup'>\n<label for='description'>description:</label><input class=\"form-control form-control-lg\"  type='texte'  v-model='thing.description'>\n</div>\n\n<div class='formGroup'>\n<label for='filename'>filename</label><input class=\"form-control form-control-lg\"  type='texte' id='filename' name='filename' v-model='thing.description'>\n</div>\n\n\n<div class='formGroup'>\n<label for='image'>file</label><input class=\"form-control form-control-lg\"  type='file' @change='onFileUpload' name='file' id=\"file\">\n</div>\n<div>\n<label for='imageUrl'>imageUrl:</label><input class=\"form-control form-control-lg\"  type='texte'  v-model='thing.imageUrl'>\n</div>\n\n<div class='formGroup'>\n<input type='hidden'  v-model='thing.userId' >\n</div>\n\n<div class='formGroup'>\n<label for='price'>price:</label><input class=\"form-control form-control-lg\"  type='number' name='price' v-model='thing.price'>\n</div>\n<button  @click='(e)'> Ajouter</button>\n\n</form>\n\n</div>\n</div>\n</div>\n\n\n</template>\n\n<script>\n\n  import {stuffService} from '@/_services'\n  \n   \n  export default {\n  \n  name: 'HelloWorld',\n\n\n  data(){\n\n       return {\n\nthing:{\n\n      title:'',\n\n      description:'',\n\n      userId:'',\n\n      imageUrl:'',\n\n      price:''\n\n       },\n\nFILE:null,\n            }\n\n\n\n       },\n  \n  methods:{\n\nonFileUpload (event) {\n\n\n\n          this.FILE = event.target.files[0]\n\n\n\n        },\n\n\n\n\npostData() { \n\n\n\n//var form = document.getElementById('form');\n         \n     //    const  file=document.getElementById('file')\n            \n            var formData = new FormData();\n           \n            const Thing=JSON.stringify(this.thing)\n           \n            var blob= new Blob([this.FILE,this.FILE.name], {type : \"image/PNG\"})\n        \n            formData.append('thing',Thing)\n            formData.append('image',blob)\n            \n            //formData.append('image',this.FILE,this.FILE.filename)\n\n        // var values=JSON.stringify(Object.from((formData)))\n         \n            stuffService.addThing(formData,{\n          })\n            .then(res => {\n                console.log(res)\n\n                this.$router.push( '/info' )\n            }).catch(err=> {\n              console.log(err)\n            })\n    }\n}         \n}         \n\n        \n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped >\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}